{
  "$schema": "http://json-schema.org/draft/2020-12/schema",
  "title": "person",
  "type": "object",
  "properties": {
    "legalPerson": {
      "type": "object",
      "description": "Business rule: UID is mandatory under certain circumstances. See https://amtsblattportal.ch/static/uid_en.html",
      "properties": {
        "uid": { "$ref": "#/$defs/string" },
        "organisationName": { "$ref": "#/$defs/string" },
        "legalForm": { "$ref": "#/$defs/string" }
      },
      "required": ["uid", "organisationName", "legalForm"],
      "additionalProperties": false
    },
    "naturalPerson": {
      "type": "object",
      "properties": {
        "officialName": { "$ref": "#/$defs/string" },
        "firstName": { "$ref": "#/$defs/string" }
      },
      "required": ["officialName", "firstName"],
      "additionalProperties": false
    },
    "address": {
      "type": "object",
      "properties": {
        "street": { "$ref": "#/$defs/string" },
        "houseNumber": { "$ref": "#/$defs/string" },
        "swissZipCode": { "$ref": "#/$defs/string" },
        "town": { "$ref": "#/$defs/string" }
      },
      "required": ["street", "houseNumber", "swissZipCode", "town"],
      "additionalProperties": false
    }
  },
  "required": ["address"],
  "oneOf": [
    { "required": ["legalPerson"], "not": { "required": ["naturalPerson"] } },
    { "required": ["naturalPerson"], "not": { "required": ["legalPerson"] } }
  ],
  "additionalProperties": false,

  "$defs": {
    "string": {
      "type": "string",
      "description": "Single line text"
    },
    "stringMultiline": {
      "type": "string",
      "description": "Multi line text"
    },
    "date": {
      "type": "string",
      "format": "date"
    },
    "int": {
      "type": "integer"
    },
    "enum": {
      "type": "string"
      // Wie könnten hier Platzhalter für spätere Auflistungen aus der Konfiguration vorgesehen werden?
    }
  }
}
